<!DOCTYPE html>
<html>

<head>
    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS Imports -->
    <link href="css/beer.min.css" rel="stylesheet">
    <link href="css/biglinux.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <!-- JS Imports -->
    <script src="js/alpine/cdn.min.js" defer></script>
    <script src="js/stonejs.js"></script>
    <script src="js/bigstore-search.js"></script>
    <script>window._ = Stone.gettext</script>
    <script type="module" src="js/beer.min.js"></script>
    <script type="module" src="js/material-dynamic-colors.min.js"></script>
</head>

<body class="dark" x-data="getItems()" x-init="loadConfig">
    <!-- Navigation Section -->
    <nav class="extend l scroll">
        <div class="row tiny-margin"><img class="circle small"
                src="images/icon-logo-biglinux.png" />
            <h6>BigLinux</h6>
        </div><a><i>home</i>
            <div>Início</div>
        </a><a><i>download</i>
            <div>Atualizações</div>
        </a><a><i>widgets</i>
            <div>Instalados</div>
        </a><a><i> history</i>
            <div>Histórico</div>
        </a><a><i>settings</i>
            <div>Ajustes</div>
        </a>
        <div class="small-divider"></div>
        <label class="margin left-align grey-text">Categorias</label><a><i>globe</i>
            <div>Internet</div>
        </a><a><i>work</i>
            <div>Escritório</div>
        </a><a><i>palette</i>
            <div>Grafico</div>
        </a><a><i>music_note</i>
            <div>Multimídia </div>
        </a><a><i>sports_esports</i>
            <div>Jogos</div>
        </a><a><i>computer</i>
            <div>Sistema</div>
        </a><a><i>code</i>
            <div>Dev</div>
        </a>
    </nav>
    <nav class="left m scroll">
        <div class="small-margin"><img class="circle small"
                src="images/icon-logo-biglinux.png" /></div>
        <a><i>home</i>
            <label>Início</label></a><a><i>download</i>
            <label>Atualizações</label></a><a><i>widgets</i>
            <label>Instalados</label></a><a><i>history</i>
            <label>Histórico</label></a><a><i>settings</i>
            <label>Ajustes</label></a>
        <div class="divider"></div><a><i>globe</i>
            <label>Internet</label></a><a><i>work</i>
            <label>Escritório</label></a><a><i>palette</i>
            <label>Grafico</label></a><a><i>music_note</i>
            <label>Multimídia </label></a><a><i>sports_esports</i>
            <label>Jogos</label></a><a><i>computer</i>
            <label>Sistema</label></a><a><i>code</i>
            <label>Dev</label></a>
    </nav>
    <nav class="bottom s"><a><i>home</i>
            <label>Início</label></a><a><i>download</i>
            <label>Atualizações</label></a><a><i>widgets</i>
            <label>Instalados</label></a><a><i>history</i>
            <label>Histórico</label></a><a><i>settings</i>
            <label>Ajustes</label></a></nav>
    </nav>

    <!-- Header Section -->
    <header class="fixed responsive surface">
        <nav>
            <div class="field prefix fill round max"><i>search</i>
                <input type="search" @input.debounce.350ms="filterAutocomplete" x-ref="searchInput"
                    x-on:keyup.enter="performSearch" placeholder="Search...">
                <menu class="min" x-show="autocompleteResults.length > 0" style="max-height: 200px; overflow-y: auto;">
                    <template x-for="result in autocompleteResults">
                        <a class="row" x-on:click="selectAutocomplete(result.p)">
                            <div x-text="result.p + '  -  ' + result.s"></div>
                        </a>
                    </template>
                </menu>
            </div>
            <button class="transparent circle" onclick="updateTheme()"><i id="dark"
                    style="display: none">light_mode</i><i id="light">dark_mode</i></button>
            <button class="transparent circle m l" onclick="refresh()"><i>refresh</i></button>
        </nav>
        <nav class="no-margin scroll">
            <div>
                <label class="switch">
                    <input type="checkbox" x-model="searchPacman" x-on:change="saveConfig">
                    <span>Pacman (<span x-text="pacmanCount"></span>)</span>
                </label>
                <label class="switch">
                    <input type="checkbox" x-model="searchAUR" x-on:change="saveConfig">
                    <span>AUR (<span x-text="aurCount"></span>)</span>
                </label>
                <label class="switch">
                    <input type="checkbox" x-model="searchFlatpak" x-on:change="saveConfig">
                    <span>Flatpak (<span x-text="flatpakCount"></span>)</span>
                </label>
                <label class="switch">
                    <input type="checkbox" x-model="searchSnap" x-on:change="saveConfig">
                    <span>Snap (<span x-text="snapCount"></span>)</span>
                </label>
            </div>
            <button class="chip fill">Web</button>
            <button class="chip fill">Nativo</button>
            <button class="chip fill">Aur</button>
            <button class="chip fill">Flatpak</button>
            <button class="chip fill">Snap</button>
        </nav>
    </header>

<!-- Main Content -->
<main class="responsive max">
    <div class="page right active">
        <div class="grid large-space">

            <!-- $nextTick(() => { console.log($el.innerText) }); -->

            <dialog x-data="pkgInfo" id="pkginfo"  >
                    <div id="icon" x-html="pkgInfo.iconHTML" x-on:click=" makeIcon($el.icon) ">Icon</div>
                    <h6 x-text="formatTitle(pkgInfo.p)"></h6>
                    <div class="row no-margin">
                    <label x-text="formatDescription(pkgInfo.d)">Description</label>
                    <label x-text="pkgInfo.s">Type</label>
                    <label x-text="pkgInfo.v">Version</label>
                    <label x-text="pkgInfo.i === 'true' ? 'Remover' : 'Instalar'">Install</label>
                    </div>

                    <button class="border" data-ui="#pkginfo">Fechar</button>
                    <!-- <p x-text="additionalInfo.some_key"></p> -->
            </dialog>

                <template x-for="item in displayedItems" class="grid">
                    <!-- <a x-on:click="_run(item.exec)" class="medium-margin medium-width"> -->
                    <div class="s12 l6">

                        <article class="no-padding round wave no-elevate" x-on:click="showModal(item)"  data-ui="#pkginfo">

                            <img
                                class="responsive medium-height"
                                src="https://img.freepik.com/fotos-gratis/a-estacao-do-outono-folheia-a-cena-da-planta-generativa-ai_188544-7971.jpg" />
                            <div class="absolute left right top top-shadow padding white-text">
                                <div class="row">
                                    <div class="max truncate">
                                        <div x-bind:x-on:load="fetchIcon(item)" x-ref="itemContainer" x-html="item.iconHTML">Icon</div>
                                        <h6 x-text="formatTitle(item.p)"></h6>
                                        <div class="row no-margin">
                                        <label x-text="formatDescription(item.d)">Description</label>
                                        <label x-text="item.s">Type</label>
                                        <label x-text="item.v">Version</label>
                                        <label x-text="item.i === 'true' ? 'Remover' : 'Instalar'">Install</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </article>
                    </div>
                </template>

                <div class="center-align" x-ref="scrollContainer">
                    <div id="infinite-scroll-trigger"></div>
                </div>

                <div class="center-align" x-show="search !== '' && endOfResults && displayedItems.length > 0">
                    <p>End of Results</p>
                </div>

                <div class="center-align" x-show="search !== '' && displayedItems.length === 0">
                    <p>Nenhum resultado</p>
                </div>

            </div>
        </div>
    </main>




<!-- Footer or Additional Elements -->
</body>

<!-- Additional JS -->
<script src="js/beer-complement.js"></script>
</html>