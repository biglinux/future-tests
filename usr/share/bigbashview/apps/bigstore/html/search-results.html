<!-- FILEPATH: /usr/share/bigbashview/apps/bigstore/html/search-results.html -->
<!-- 
    This file contains the HTML template for displaying search results in the BigStore application.
    It includes a loop to iterate over the displayed items and render each item's information.
    The template also includes a scroll container, end of results message, and no results message.
-->
<template x-for="item in displayedItems">
    <div class="s12 m6 l4">
        <article class="mini-round cursor-alias onhover-elevate1" x-on:click="showModal(item);" data-ui="#pkginfo">
            <div class="row no-padding">
                <!-- Item Icon -->
                <div x-bind:x-on:show="fetchIcon(item)" x-html="item.iconHTML"></div>
                <div class="max truncate">
                    <!-- Item Title -->
                    <h5 class="small small-padding-bottom" x-text="formatTitle(item.p)"></h5>
                    <div class="row no-margin">
                        <!-- Package Format -->
                        <div x-html="packageFormat(item.t)"></div>
                        <!-- Item Version -->
                        <label x-text="item.v"></label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="max">
                    <!-- Item Description -->
                    <h6 class="small min-height-3em" x-text="formatDescription(item.d)"></h6>
                </div>
            </div>
            <nav class="center-align">
                <!-- Install/Remove Button -->
                <template x-if="item.i === 'true'">
                    <button class="tertiary small button-elevate1 red9"><i>delete</i><span stonejs>Remover</span></button>
                </template>
                <template x-if="item.i !== 'true'">
                    <button class="tertiary small button-elevate1 green9"><i>download</i><span stonejs>Instalar</span></button>
                </template>

            </nav>
        </article>
    </div>
</template>

<!-- Scroll Container -->
<div class="center-align" x-ref="scrollContainer">
    <div id="infinite-scroll-trigger"></div>
</div>

<!-- End of Results Message -->
<div class="center-align" x-show="search !== '' && this.endOfResults && displayedItems.length > 0">
    <p stonejs>Fim dos resultados</p>
</div>

<!-- No Results Message -->
<div class="center-align" x-show="search !== '' && displayedItems.length === 0">
    <p stonejs>Nenhum resultado</p>
</div>